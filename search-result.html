<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>검색 결과</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- ✅ 추가 -->
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/navbar.css">
  <link rel="stylesheet" href="css/responsive.css"> <!-- ✅ 추가: 반응형 CSS -->
</head>
<body>

<header class="navbar">
  <div class="logo">CookBook</div>
  <nav class="menu">
    <a href="index.html">Home</a>
    <a href="categories.html">Categories</a> <!-- categories.html 링크로 변경 (일관성) -->
    <a href="#">Featured</a>
    <a href="#">Favorites</a>
    <a href="login.html">Login</a> <!-- login.html 링크 추가 (일관성) -->
  </nav>
  <button class="hamburger-menu" aria-label="메뉴 열기" aria-expanded="false">☰</button> <!-- ✅ 추가 -->
</header>

<main>
  <div id="result-message" style="text-align:center; margin-top:100px; font-size: 20px;">
    검색 중입니다...
  </div>
</main>

<footer>
  © 2025 CookBook. All rights reserved.
</footer>

<!-- 🔽 recipe.js 먼저 로드 (recipes 전역변수 포함되어야 함) -->
<script src="js/recipe.js"></script>

<!-- 🔽 검색 결과 처리 -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const params = new URLSearchParams(window.location.search);
    const keyword = params.get("query")?.toLowerCase();

    let matchedKey = null;
    for (const key in recipes) {
      if (recipes[key].title.toLowerCase() === keyword) {
        matchedKey = key;
        break;
      }
    }

    if (matchedKey) {
      // 자동 이동
      window.location.href = `recipe.html?menu=${matchedKey}`;
    } else {
      document.getElementById("result-message").textContent = `"${keyword}"에 대한 레시피를 찾을 수 없습니다.`;
      document.getElementById("result-message").style.color = "red";
    }
  });
</script>
<script src="js/auth.js"></script>
<script src="js/navbar.js"></script> <!-- ✅ 추가: 공통 네비게이션 스크립트 -->
</body>
</html>
